# Copyright 2013 Jakob Nixdorf <flocke@shadowice.org>
# Distributed under the terms of the GNU General Public License v2

SUMMARY="Lua libraries focusing on input data handling"
HOMEPAGE="http://stevedonovan.github.io/Penlight/api/index.html"
DOWNLOADS="https://github.com/stevedonovan/penlight/archive/${PV}.tar.gz -> ${PNV}.tar.gz"

LICENCES="MIT"
SLOT="0"
PLATFORMS="~amd64"
MYOPTIONS=""

DEPENDENCIES="
    build+run:
        dev-lang/lua
        dev-lua/luafilesystem
"

BUGS_TO="flocke@shadowice.org"

# Which lua version is used ?
local luaver="$(lua -v 2>&1| cut -d' ' -f2)"
LUAVER="${luaver%.*}"

src_install() {
    insinto /usr/share/lua/${LUAVER}/pl
    doins lua/pl/*.lua

    insinto /usr/share/lua/${LUAVER}/pl/platf
    doins lua/pl/platf/*.lua

    dodoc README.md CHANGES.md
    docinto manual
    dodoc doc/manual/*
}
